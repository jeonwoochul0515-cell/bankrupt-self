<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬ë§ ë¸Œë¦¿ì§€ - ë¬´ë£Œ ê°œì¸íšŒìƒ AI ìê°€ì§„ë‹¨</title>
    <style>
        :root {
            --primary-color: #2E8B57; /* ì•ˆë„ê°ì„ ì£¼ëŠ” ìˆ²ìƒ‰ */
            --accent-color: #FF7F50; /* ë”°ëœ»í•œ ì½”ë„ìƒ‰ */
            --bg-color: #F9FAFB;
            --text-color: #333;
            --light-gray: #e5e7eb;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 480px; /* ëª¨ë°”ì¼ ì¹œí™”ì  í­ */
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        header {
            padding: 20px;
            text-align: center;
            background: white;
            border-bottom: 1px solid var(--light-gray);
        }
        .badge {
            background: var(--primary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        h1 { font-size: 1.2rem; margin: 10px 0 5px; }
        .subtitle { color: #666; font-size: 0.9rem; }

        /* Progress Bar */
        .progress-container {
            height: 4px;
            background: var(--light-gray);
            width: 100%;
        }
        .progress-bar {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Content Sections */
        .step {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            padding: 25px;
            flex: 1;
            flex-direction: column;
            animation: fadeIn 0.5s;
        }
        .step.active { display: flex; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Form Elements */
        label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
            margin-top: 15px;
        }
        .description {
            font-size: 0.85rem;
            color: #777;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ */
        }
        input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        button {
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
            width: 100%;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            margin-top: auto; /* í•˜ë‹¨ ê³ ì • ëŠë‚Œ */
        }
        .btn-outline {
            background-color: white;
            border: 1px solid #ddd;
            color: var(--text-color);
        }
        .btn-outline.selected {
            border-color: var(--primary-color);
            background-color: #effcf5;
            color: var(--primary-color);
        }

        /* Result Card */
        .result-card {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        .amount {
            font-size: 1.8rem;
            color: var(--primary-color);
            font-weight: bold;
            margin: 10px 0;
        }
        .warning-box {
            background: #fff7ed;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            font-size: 0.9rem;
            margin-top: 15px;
            text-align: left;
        }

        /* Busan Special Notice */
        .busan-notice {
            background: #e0f2fe;
            color: #0369a1;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            margin-bottom: 15px;
            display: none; /* JSë¡œ ì œì–´ */
        }

        /* Input highlight for money */
        .input-wrapper { position: relative; }
        .input-wrapper::after {
            content: "ì›";
            position: absolute;
            right: 15px;
            top: 13px;
            color: #999;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <span class="badge">100% ë¬´ë£Œ Â· ìµëª… ë³´ì¥</span>
        <h1>ê°œì¸íšŒìƒ AI ìê°€ì§„ë‹¨</h1>
        <div class="subtitle">2025ë…„ ê°œì •ë²•ë¥  & ë²•ì› ì‹¤ë¬´ì¤€ì¹™ ë°˜ì˜</div>
    </header>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Step 0: Intro -->
    <div class="step active" id="step0">
        <div style="text-align: center; margin-top: 30px;">
            <h2 style="margin-bottom: 10px;">ë¹š ë…ì´‰ ì—†ëŠ”<br>ìƒˆë¡œìš´ ì¶œë°œ</h2>
            <p class="description" style="font-size: 1rem;">
                ë³µì¡í•œ ë²•ë¥  ìš©ì–´ ì—†ì´,<br>
                ë‚˜ì˜ ì˜ˆìƒ íƒ•ê° ê¸ˆì•¡ì„ 1ë¶„ ë§Œì— í™•ì¸í•˜ì„¸ìš”.<br><br>
                ğŸ”’ ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ê²°ê³¼ ì‚°ì¶œì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
            </p>
        </div>
        <button class="btn-primary" onclick="nextStep(1)">ë¬´ë£Œ ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- Step 1: Residence (Busan Logic) -->
    <div class="step" id="step1">
        <h2>ê±°ì£¼ì§€ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”</h2>
        <p class="description">ê´€í•  ë²•ì›ì— ë”°ë¼ ì ìš©ë˜ëŠ” ì‹¤ë¬´ ì¤€ì¹™ì´ ë‹¤ë¦…ë‹ˆë‹¤.</p>
        
        <div class="btn-group" style="flex-direction: column;">
            <button class="btn-outline" onclick="selectRegion('busan')">ë¶€ì‚° / ìš¸ì‚° / ê²½ë‚¨</button>
            <button class="btn-outline" onclick="selectRegion('other')">ì„œìš¸ / ìˆ˜ë„ê¶Œ / ê¸°íƒ€ ì§€ì—­</button>
        </div>
        <input type="hidden" id="region">
        <div id="busanAlert" class="busan-notice" style="margin-top:15px;">
            âš–ï¸ <strong>ë¶€ì‚°íšŒìƒë²•ì› ê´€í• ì…ë‹ˆë‹¤.</strong><br>
            ë¶€ì‚°íšŒìƒë²•ì› ì‹¤ë¬´ì¤€ì¹™ì— ë”°ë¼ ì‹ ì†í•œ ì ˆì°¨ì™€ í­ë„“ì€ ë©´ì±… ê¸°ì¤€(ì£¼ì‹/ì½”ì¸ ì†ì‹¤ê¸ˆ ì²˜ë¦¬ ë“±)ì´ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>
    </div>

    <!-- Step 2: Basic Eligibility -->
    <div class="step" id="step2">
        <h2>ê¸°ë³¸ ìê²© í™•ì¸</h2>
        
        <label>í˜„ì¬ ì†Œë“ í™œë™ì„ í•˜ê³  ê³„ì‹ ê°€ìš”?</label>
        <div class="btn-group">
            <button class="btn-outline" onclick="setIncomeType('salary', this)">ì§ì¥ì¸/ì•Œë°”</button>
            <button class="btn-outline" onclick="setIncomeType('business', this)">ì‚¬ì—…ì/í”„ë¦¬ëœì„œ</button>
        </div>
        <input type="hidden" id="incomeType">

        <label>ì´ ì±„ë¬´(ë¹š) ê·œëª¨ëŠ”?</label>
        <p class="description">ë‹´ë³´ëŒ€ì¶œ 15ì–µ, ì‹ ìš©ëŒ€ì¶œ 10ì–µ ì´í•˜ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        <div class="btn-group">
            <button class="btn-outline" onclick="setDebtLevel('ok', this)">ê¸°ì¤€ ê¸ˆì•¡ ì´í•˜</button>
            <button class="btn-outline" onclick="setDebtLevel('over', this)">ê¸°ì¤€ ê¸ˆì•¡ ì´ˆê³¼</button>
        </div>

        <label>ì¬ì‚°ë³´ë‹¤ ë¹šì´ ë” ë§ìœ¼ì‹ ê°€ìš”?</label>
        <div class="btn-group">
            <button class="btn-outline" onclick="setInsolvency('yes', this)">ë„¤, ë¹šì´ ë” ë§ì•„ìš”</button>
            <button class="btn-outline" onclick="setInsolvency('no', this)">ì•„ë‹ˆìš”, ì¬ì‚°ì´ ë” ë§ì•„ìš”</button>
        </div>

        <button class="btn-primary" style="margin-top: 20px;" onclick="checkEligibility()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
    </div>

    <!-- Step 3: Financial Data Input -->
    <div class="step" id="step3">
        <h2>ìƒì„¸ ì •ë³´ ì…ë ¥</h2>
        <p class="description">ì •í™•í•œ ë¶„ì„ì„ ìœ„í•´ ëŒ€ëµì ì¸ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>

        <label>ì›” í‰ê·  ì‹¤ìˆ˜ë ¹ ì†Œë“ (ì„¸í›„)</label>
        <div class="input-wrapper">
            <input type="number" id="monthlyIncome" placeholder="ì˜ˆ: 2500000">
        </div>

        <label>ë¶€ì–‘ ê°€ì¡± ìˆ˜ (ë³¸ì¸ í¬í•¨)</label>
        <p class="description">2025ë…„ ê¸°ì¤€: ë¯¸ì„±ë…„ ìë…€, ì†Œë“ ì—†ëŠ” ê³ ë ¹ ë¶€ëª¨ë‹˜ ë“±</p>
        <select id="dependents">
            <option value="1">1ì¸ ê°€êµ¬ (ë³¸ì¸ í˜¼ì)</option>
            <option value="2">2ì¸ ê°€êµ¬</option>
            <option value="3">3ì¸ ê°€êµ¬</option>
            <option value="4">4ì¸ ê°€êµ¬ ì´ìƒ</option>
        </select>

        <label>ì¶”ê°€ ìƒê³„ë¹„ (ì„ íƒ)</label>
        <p class="description">ì£¼ê±°ë¹„, ì˜ë£Œë¹„ ë“± (2025ë…„ë¶€í„° ì¸ì • ë²”ìœ„ í™•ëŒ€)</p>
        <div class="input-wrapper">
            <input type="number" id="extraLivingCost" placeholder="0" value="0">
        </div>

        <label>ì´ ì¬ì‚° ê°€ì¹˜ (ì²­ì‚°ê°€ì¹˜)</label>
        <p class="description">ë¶€ë™ì‚°, ì°¨ëŸ‰, ë³´ì¦ê¸ˆ ë“±ì—ì„œ ëŒ€ì¶œì„ ëº€ ìˆœìˆ˜ ê°€ì¹˜</p>
        <div class="input-wrapper">
            <input type="number" id="assetValue" placeholder="ì˜ˆ: 10000000">
        </div>

        <label>ì´ ì±„ë¬´ì•¡ (ì›ê¸ˆ ê¸°ì¤€)</label>
        <div class="input-wrapper">
            <input type="number" id="totalDebt" placeholder="ì˜ˆ: 50000000">
        </div>

        <button class="btn-primary" style="margin-top: 20px;" onclick="calculateResult()">AI ì§„ë‹¨ ê²°ê³¼ ë³´ê¸°</button>
    </div>

    <!-- Step 4: Result Analysis -->
    <div class="step" id="step4">
        <h2>ì§„ë‹¨ ê²°ê³¼ ë¦¬í¬íŠ¸</h2>
        
        <div class="result-card">
            <div>ì›” ì˜ˆìƒ ë³€ì œê¸ˆ</div>
            <div class="amount" id="monthlyPaymentResult">0ì›</div>
            <div style="font-size: 0.9rem; color: #555;">
                ì˜ˆìƒ íƒ•ê°ë¥ : <span id="forgivenessRate" style="color:var(--accent-color); font-weight:bold;">0%</span>
            </div>
        </div>

        <div class="warning-box">
            <strong>ğŸ’¡ ë¶„ì„ í¬ì¸íŠ¸</strong>
            <ul style="padding-left: 20px; margin: 10px 0;">
                <li id="busanResultComment" style="display:none;">ë¶€ì‚°íšŒìƒë²•ì› ê´€í• ì´ë¯€ë¡œ <strong>ì‹¤ë¬´ì¤€ì¹™ ì œ424í˜¸</strong> ë“±ì— ë”°ë¼ 3ë…„ ë¯¸ë§Œ ë³€ì œ ê¸°ê°„ ë‹¨ì¶• ê°€ëŠ¥ì„±ë„ ê²€í† í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>2025ë…„ ê¸°ì¤€ ì¤‘ìœ„ì†Œë“(ìƒê³„ë¹„)ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
                <li>ì²­ì‚°ê°€ì¹˜ ë³´ì¥ ì›ì¹™ì— ë”°ë¼ ì¬ì‚°ë³´ë‹¤ ë§ì´ ê°šì•„ì•¼ í•©ë‹ˆë‹¤.</li>
            </ul>
        </div>

        <p class="description" style="text-align: center; margin-top: 20px;">
            "ì´ ê²°ê³¼ëŠ” AI ì¶”ì •ì¹˜ì´ë©°, ë²•ì›ì˜ ìµœì¢… ê²°ì •ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
            ì •í™•í•œ íƒ•ê°ì„ ìœ„í•´ ì „ë¬¸ê°€ì˜ <strong>ì •ë°€ ê²€í† </strong>ê°€ í•„ìš”í•©ë‹ˆë‹¤."
        </p>

        <button class="btn-primary" onclick="nextStep(5)">ì „ë¬¸ê°€ì—ê²Œ ì •ë°€ ê²€í†  ìš”ì²­í•˜ê¸° (ë¬´ë£Œ)</button>
    </div>

    <!-- Step 5: Lead Generation (Consultation) -->
    <div class="step" id="step5">
        <h2>ê±°ì˜ ë‹¤ ë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
        <p class="description">
            í˜„ì¬ <strong><span id="displayRegion"></span></strong> ì§€ì—­ ë‹´ë‹¹ ë³€í˜¸ì‚¬ê°€ ë°°ì • ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.<br>
            ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  1:1 ë¹„ê³µê°œ ìƒë‹´ì„ ì˜ˆì•½í•˜ì„¸ìš”.
        </p>

        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <label>ì„±í•¨ (ìµëª… ê°€ëŠ¥)</label>
            <input type="text" id="userName" placeholder="í™ê¸¸ë™">
            
            <label>ì—°ë½ì²˜</label>
            <input type="tel" id="userPhone" placeholder="010-1234-5678">
            <p class="description" style="margin-top:5px;">* ìƒë‹´ ëª©ì  ì™¸ì—ëŠ” ì ˆëŒ€ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
        </div>

        <button class="btn-primary" onclick="submitLead()">ë¬´ë£Œ ìƒë‹´ ì˜ˆì•½ ì™„ë£Œ</button>
        <button class="btn-outline" style="margin-top: 10px;" onclick="alert('ì •ë³´ê°€ ì €ì¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì•±ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.')">ì¢…ë£Œí•˜ê¸°</button>
    </div>

</div>

<script>
    // 2025ë…„ ê¸°ì¤€ ì¤‘ìœ„ì†Œë“ (60%) ë°ì´í„° (ëŒ€ëµì  ìˆ˜ì¹˜)
    const LIVING_COST_2025 = {
        1: 1337000,
        2: 2209000,
        3: 2828000,
        4: 3437000
    };

    let currentStep = 0;
    let formData = {
        region: '',
        incomeType: '',
        debtLevel: '',
        insolvency: '',
        monthlyIncome: 0,
        dependents: 1,
        extraLiving: 0,
        assetValue: 0,
        totalDebt: 0
    };

    function nextStep(step) {
        document.getElementById(`step${currentStep}`).classList.remove('active');
        currentStep = step;
        document.getElementById(`step${currentStep}`).classList.add('active');
        updateProgressBar();
    }

    function updateProgressBar() {
        const percent = (currentStep / 5) * 100;
        document.getElementById('progressBar').style.width = `${percent}%`;
    }

    // Step 1 Logic: Region
    function selectRegion(region) {
        formData.region = region;
        document.getElementById('region').value = region;
        
        // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” ë° ì„ íƒ í‘œì‹œ
        const buttons = document.querySelectorAll('#step1 .btn-outline');
        buttons.forEach(btn => btn.classList.remove('selected'));
        event.target.classList.add('selected');

        // ë¶€ì‚°íšŒìƒë²•ì› ì•ˆë‚´ ë¡œì§ [1]
        if (region === 'busan') {
            document.getElementById('busanAlert').style.display = 'block';
            document.getElementById('displayRegion').innerText = "ë¶€ì‚°/ê²½ë‚¨";
        } else {
            document.getElementById('busanAlert').style.display = 'none';
            document.getElementById('displayRegion').innerText = "í•´ë‹¹";
        }
        
        setTimeout(() => nextStep(2), 500); // ì•½ê°„ì˜ ë”œë ˆì´ í›„ ì´ë™
    }

    // Step 2 Logic: Eligibility Helpers
    function setIncomeType(type, btn) {
        formData.incomeType = type;
        highlightBtn(btn);
    }
    function setDebtLevel(level, btn) {
        formData.debtLevel = level;
        highlightBtn(btn);
    }
    function setInsolvency(status, btn) {
        formData.insolvency = status;
        highlightBtn(btn);
    }
    function highlightBtn(btn) {
        const parent = btn.parentElement;
        const siblings = parent.querySelectorAll('.btn-outline');
        siblings.forEach(s => s.classList.remove('selected'));
        btn.classList.add('selected');
    }

    function checkEligibility() {
        if (!formData.incomeType || !formData.debtLevel || !formData.insolvency) {
            alert("ëª¨ë“  í•­ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
            return;
        }
        if (formData.debtLevel === 'over') {
            alert("ì£„ì†¡í•©ë‹ˆë‹¤. ê°œì¸íšŒìƒ ì±„ë¬´ í•œë„ë¥¼ ì´ˆê³¼í•˜ì—¬ 'ì¼ë°˜íšŒìƒ'ì„ ê³ ë ¤í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.");
            return;
        }
        if (formData.insolvency === 'no') {
            alert("ì¬ì‚°ì´ ì±„ë¬´ë³´ë‹¤ ë§ìœ¼ë©´ ì›ì¹™ì ìœ¼ë¡œ ê°œì¸íšŒìƒ ì‹ ì²­ì´ ì–´ë µìŠµë‹ˆë‹¤ (ì§€ê¸‰ë¶ˆëŠ¥ ìš”ê±´ ë¯¸ë‹¬).");
            return;
        }
        nextStep(3);
    }

    // Step 3 & 4 Logic: Calculation
    function calculateResult() {
        // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
        const income = parseInt(document.getElementById('monthlyIncome').value) || 0;
        const dependents = parseInt(document.getElementById('dependents').value);
        const extraLiving = parseInt(document.getElementById('extraLivingCost').value) || 0;
        const assets = parseInt(document.getElementById('assetValue').value) || 0;
        const debt = parseInt(document.getElementById('totalDebt').value) || 0;

        if (income === 0 || debt === 0) {
            alert("ì†Œë“ê³¼ ì±„ë¬´ì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        // 1. ì¸ì • ìƒê³„ë¹„ ê³„ì‚° (2025 ê¸°ì¤€ + ì¶”ê°€ìƒê³„ë¹„) [5][6]
        const baseLivingCost = LIVING_COST_2025[dependents] || LIVING_COST_2025[7];
        const totalLivingCost = baseLivingCost + extraLiving;

        // 2. ì›” ë³€ì œê¸ˆ ê³„ì‚° (ì†Œë“ - ìƒê³„ë¹„)
        let monthlyPayment = income - totalLivingCost;
        if (monthlyPayment < 0) monthlyPayment = 0;

        // 3. ì²­ì‚°ê°€ì¹˜ ë³´ì¥ ì›ì¹™ ê²€ì¦ [4]
        // 36ê°œì›” ë³€ì œ ì´ì•¡
        let totalPayment36 = monthlyPayment * 36;
        let months = 36;

        // ë³€ì œ ì´ì•¡ì´ ì¬ì‚°ê°€ì¹˜ë³´ë‹¤ ì‘ìœ¼ë©´ ì›” ë³€ì œê¸ˆì„ ì˜¬ë¦¬ê±°ë‚˜ ê¸°ê°„ì„ ëŠ˜ë ¤ì•¼ í•¨ (ë‹¨ìˆœí™” ë¡œì§)
        if (totalPayment36 < assets) {
            // ì¬ì‚°ê°€ì¹˜ë§Œí¼ì€ ê°šì•„ì•¼ í•¨.
            // ì›” ë³€ì œê¸ˆì„ ëŠ˜ë¦´ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸ (ê°€ìš©ì†Œë“ í•œê³„) -> ì—¬ê¸°ì„œëŠ” ê¸°ê°„ì„ 60ê°œì›”ë¡œ ëŠ˜ë¦¬ëŠ” ë¡œì§ ê°€ì •
            let totalPayment60 = monthlyPayment * 60;
            if (totalPayment60 < assets) {
                // 60ê°œì›”ë¡œë„ ì¬ì‚°ê°€ì¹˜ ëª» ë¯¸ì¹¨ -> ì›” ë³€ì œê¸ˆì„ ê°•ì œë¡œ ìƒí–¥ (ì¬ì‚°ê°€ì¹˜ / 60)
                monthlyPayment = Math.ceil(assets / 60);
                months = 60;
            } else {
                months = 60; // ê¸°ê°„ ì—°ì¥ìœ¼ë¡œ í•´ê²°
            }
        }

        // ìµœì¢… ì˜ˆìƒ ë³€ì œê¸ˆ í¬ë§·íŒ…
        document.getElementById('monthlyPaymentResult').innerText = monthlyPayment.toLocaleString() + "ì›";
        
        // íƒ•ê°ë¥  ê³„ì‚°
        const totalPay = monthlyPayment * months;
        let forgiveness = ((debt - totalPay) / debt) * 100;
        if (forgiveness < 0) forgiveness = 0; // ì´ì ë“±ìœ¼ë¡œ ë¹šë³´ë‹¤ ë” ê°šëŠ” ê²½ìš° 0% ì²˜ë¦¬
        
        document.getElementById('forgivenessRate').innerText = forgiveness.toFixed(1) + "%";

        // ë¶€ì‚°íšŒìƒë²•ì› ì½”ë©˜íŠ¸ ë…¸ì¶œ ì—¬ë¶€
        if (formData.region === 'busan') {
            document.getElementById('busanResultComment').style.display = 'list-item';
        }

        nextStep(4);
    }

    // Step 5: Lead Gen
    function submitLead() {
        const name = document.getElementById('userName').value;
        const phone = document.getElementById('userPhone').value;

        if (!name || !phone) {
            alert("ì›í™œí•œ ìƒë‹´ ì˜ˆì•½ì„ ìœ„í•´ ì„±í•¨ê³¼ ì—°ë½ì²˜ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”.");
            return;
        }

        // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤ (AJAX/Fetch)
        // ì˜ˆì‹œ ë¡œì§:
        alert(`${name}ë‹˜, ìƒë‹´ ì˜ˆì•½ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\n\në‹´ë‹¹ìê°€ ${phone} ë²ˆí˜¸ë¡œ ê³§ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n(ìƒë‹´ì‹œê°„: í‰ì¼ 09:00~18:00)`);
        
        // ì™„ë£Œ í›„ ì²˜ìŒìœ¼ë¡œ í˜¹ì€ ë‹«ê¸°
        location.reload(); 
    }
</script>

</body>
</html>